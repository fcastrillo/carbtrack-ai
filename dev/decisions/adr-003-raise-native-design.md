# ADR-003: RaiSE-Native Design

**Status:** Accepted
**Date:** 2026-02-13
**Context:** Epic E0 (Documentation Homologation)

---

## Decision

**Starting with E3, all design artifacts are generated by RaiSE skills and live in `work/epics/eN/`.**

The `specs/` directory becomes a **historical archive** for E1 (MVP Asistente CH). No new content is added to `specs/` after E0 completion.

Future epics use native RaiSE design from day 1 — no spec-kit artifacts, no homologation needed.

---

## Rationale

### Why RaiSE-Native for E3+

**Single pipeline for design AND execution:**
- `/rai-epic-design` generates epic scope, feature breakdown, ADRs
- `/rai-story-design` generates story specs with examples, acceptance criteria
- `/rai-research` produces evidence-based design when needed
- All artifacts live in `work/epics/eN/` tree (single navigation path)

**Consistency and traceability:**
- RaiSE skills produce artifacts with standard structure (YAML frontmatter, markdown body)
- Retrospectives feed learnings back into memory graph
- Patterns captured from previous epics inform future design
- No jumping between `specs/` and `work/` directories

**Simplicity (RAI-VAL-2):**
- One system (RaiSE) vs two systems (spec-kit + RaiSE)
- One location (`work/`) vs two locations (`specs/` + `work/`)
- One set of conventions vs dual governance

**Avoids homologation overhead:**
- E1 required indexing (F0.2) because it predated RaiSE
- E3+ designed with RaiSE from start → no bridging needed
- Clean separation: `specs/` = E1 historical, `work/` = E3+ active

### Why spec-kit is Retired (Not Deprecated)

**spec-kit served E1 well:**
- Generated comprehensive design artifacts (spec, plan, tasks, data-model, contracts)
- Provided structure before RaiSE adoption
- Validated approach that RaiSE skills now incorporate

**RaiSE subsumes spec-kit capabilities:**
- `/rai-epic-design` → Epic scope and feature breakdown
- `/rai-story-design` → Story specs with examples and acceptance criteria
- `/rai-research` → Research and evidence gathering
- RaiSE retrospectives → Continuous improvement (spec-kit was static)

**No value in maintaining both:**
- Duplicates governance (two systems, two conventions)
- Cognitive load on contributors (which tool for what?)
- Maintenance burden (keep both systems aligned)

### Alternatives Considered

**Alternative 1: Maintain spec-kit + RaiSE duality**
- **Pros:** Contributors can choose preferred system
- **Cons:** Two systems = two places to look, two conventions, two tools to learn; violates simplicity (RAI-VAL-2)
- **Rejected:** Complexity without benefit

**Alternative 2: Migrate spec-kit into RaiSE as a plugin**
- **Pros:** Preserves spec-kit format for those who prefer it
- **Cons:** Over-engineering — RaiSE skills already cover the same ground; building bridge adds complexity
- **Rejected:** RaiSE capabilities sufficient, plugin adds unnecessary abstraction

**Alternative 3: Keep spec-kit for "complex" epics, RaiSE for "simple" ones**
- **Pros:** Flexibility to match tool to epic complexity
- **Cons:** Ambiguous boundary ("complex" is subjective), perpetuates dual system, increases decision overhead
- **Rejected:** Creates artificial categorization, still maintains two systems

---

## Context

### What Led to This Decision

**E1 (MVP Asistente CH) designed with spec-kit:**
- 8 design artifacts in `specs/001-mvp-asistente-ch/`:
  - `spec.md` (feature requirements, acceptance scenarios)
  - `data-model.md` (database schema, data contracts)
  - `plan.md` (implementation phases)
  - `tasks.md` (task breakdown)
  - `contracts/edge-functions.md` (API contracts)
  - `quickstart.md` (validation checklist)
  - `research.md` (design research)
  - `ACCEPTED_DEBT.md` (known limitations)
- E1 completed successfully using spec-kit framework

**E0 (Documentation Homologation) bridges spec-kit → RaiSE:**
- **F0.1 (Archive Genesis):** Moved legacy root docs to `specs/000-genesis/` with SUPERSEDED banners (commit b6f6bd8)
- **F0.2 (Index E1/E2 Design):** Created `work/epics/e1-mvp-asistente-ch/design.md` indexing spec-kit artifacts with `_origin: spec-kit` marker (commit fb4212a)
- **F0.3 (Canonicalize Requirements):** Established RF-NN as canonical, FR-NNN as legacy (commit fb4212a)
- **ADR-001:** Index-vs-move decision preserves spec-kit artifacts in place

**RaiSE skills now cover spec-kit capabilities:**
- `/rai-epic-design` released (generates scope, features, ADRs)
- `/rai-story-design` includes examples, acceptance criteria (spec-kit's strength)
- `/rai-research` provides evidence-based design
- Retrospectives capture learnings for future improvement

### Project State

- E1 complete (spec-kit, historical)
- E0 in progress (homologation, bridging)
- E3+ will be designed native RaiSE
- CarbTrack AI at early stage (~1 month), clean transition point

---

## Consequences

### Positive

✅ **Single pipeline** — RaiSE handles design AND execution from day 1

✅ **One navigation tree** — All artifacts in `work/epics/eN/`, no jumping to `specs/`

✅ **Consistent structure** — RaiSE skills generate standard-format artifacts (YAML frontmatter, markdown)

✅ **Continuous improvement** — Retrospectives feed learnings into memory graph, informing future design

✅ **No homologation overhead** — E3+ designed with RaiSE from start, no indexing/bridging needed

✅ **Simplicity (RAI-VAL-2)** — One system, one location, one set of conventions

### Negative

⚠️ **specs/ stops growing** — No new content after E0

⚠️ **Loss of spec-kit validation checklist** — quickstart.md format not directly in RaiSE

⚠️ **Contributor learning curve** — Must learn RaiSE skills (though spec-kit also had a learning curve)

### Mitigation

- **specs/ stops growing:** Acceptable as historical archive — E1 is complete and frozen
- **Validation checklist:** Can be incorporated into RaiSE story plan as acceptance criteria or manual integration test steps
- **Learning curve:** RaiSE skills have inline documentation and examples; `/rai-story-design` template includes quickstart-style acceptance criteria

---

## References

### Related Work

- **F0.1: Archive Genesis** — Commit `b6f6bd8` (2026-02-13)
  - Established archive-with-traceability pattern for legacy docs

- **F0.2: Index E1/E2 Design** — Commit `fb4212a` (2026-02-13)
  - Created `work/epics/e1-mvp-asistente-ch/design.md` index
  - Indexed 8 spec-kit artifacts with `_origin: spec-kit` marker

- **F0.3: Canonicalize Requirements** — Commit `fb4212a` (2026-02-13)
  - Established RF-NN as canonical nomenclature for E3+

### Impacted Locations

- `work/epics/e1-mvp-asistente-ch/design.md` (index to spec-kit artifacts)
- `specs/001-mvp-asistente-ch/*` (historical archive, unchanged)
- `specs/` (frozen after E0, no new content)

### Related ADRs

- **ADR-001: Index vs Move** — E1 artifacts stay in `specs/001/`, indexed from `work/epics/e1/`
- **ADR-002: Canonical Nomenclature** — E3+ uses RF-NN from governance, not FR-NNN from spec-kit

---

## Go-Forward Structure for E3+ Epics

```
work/epics/eN-{name}/
  scope.md                    ← /rai-epic-design (features, ADRs, milestones)
  plan.md                     ← /rai-epic-plan (sequencing, dependencies)

  stories/
    fN.M-{name}/
      scope.md                ← /rai-story-start (in/out scope, done criteria)
      design.md               ← /rai-story-design (approach, examples, acceptance)
      plan.md                 ← /rai-story-plan (tasks, verification, execution order)
      progress.md             ← /rai-story-implement (task completion log)
      retrospective.md        ← /rai-story-review (learnings, improvements)

  contracts/                  ← If needed: API contracts, schemas
  research.md                 ← /rai-research output (when applicable)
  retrospective.md            ← /rai-epic-close (epic-level learnings)
```

**Key differences from spec-kit:**
- No `specs/00N/` directory — all artifacts in `work/epics/eN/`
- YAML frontmatter in all files (metadata for tooling)
- Retrospectives at story and epic level (continuous improvement)
- Design and execution in single tree (no navigation split)

---

## Notes

**spec-kit is not "deprecated"** — it served E1 successfully and validated patterns that RaiSE now incorporates. It's simply superseded for this project going forward.

**This is a project-level decision**, not a framework-level one. Other projects may choose to continue using spec-kit or other frameworks. RaiSE is designed to coexist with multiple approaches.

**The homologation pattern (archive, index, canonicalize) is reusable** for projects migrating from any legacy framework to RaiSE.

---

*ADR-003 accepted: 2026-02-13*
*Epic: E0 (Documentation Homologation)*
*Feature: F0.4 (Document ADRs)*
